#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–º–º–∏—Ç–∞ Support —Å–∏—Å—Ç–µ–º—ã v11.0

cd /root/telegram-bot

echo "üì¶ –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã –≤ Git..."

# –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
git add crm_data/users.json
git add crm_data/tickets.json
git add utils/crm_functions.py
git add handlers/support.py
git add support_faq.txt

# –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
git add README.md
git add bot.py

echo "‚úÖ –§–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã"
echo ""
echo "üìù –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π:"
git status

echo ""
read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–æ–º–º–∏—Ç? (y/n) " -n 1 -r
echo ""

if [[ $REPLY =~ ^[Yy]$ ]]
then
    echo "üíæ –°–æ–∑–¥–∞—ë–º –∫–æ–º–º–∏—Ç..."
    git commit -m "v11.0: Support —Å–∏—Å—Ç–µ–º–∞ —Å RAG + CRM

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- crm_data/users.json - –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- crm_data/tickets.json - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–∫–µ—Ç–æ–≤
- utils/crm_functions.py - CRM —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- handlers/support.py - handler –¥–ª—è /support –∏ /my_tickets
- support_faq.txt - FAQ —Å 90+ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ –±–æ—Ç–µ

–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- README.md - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Support —Å–∏—Å—Ç–µ–º—ã
- bot.py - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- /support <–≤–æ–ø—Ä–æ—Å> - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º –≤ FAQ —á–µ—Ä–µ–∑ RAG
- /my_tickets - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö —Ç–∏–∫–µ—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–∏–∫–µ—Ç–æ–≤ –≤ –ø—Ä–æ–º–ø—Ç–µ Claude
- JSON-based CRM –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- RAG –ø–æ–∏—Å–∫ –ø–æ FAQ (Ollama MCP + nomic-embed-text)
- Claude Sonnet 4.5 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è CRM
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"

    echo ""
    echo "üöÄ –ü—É—à–∏–º –≤ GitHub..."
    git push origin main
    
    echo ""
    echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub"
    echo "üîó https://github.com/KuzminVik/telegram-claude-bot"
else
    echo "‚ùå –ö–æ–º–º–∏—Ç –æ—Ç–º–µ–Ω—ë–Ω"
fi
