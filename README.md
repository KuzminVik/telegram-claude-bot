# ü§ñ Telegram Claude Bot

Telegram –±–æ—Ç —Å Claude AI, MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏, RAG –ø–æ–∏—Å–∫–æ–º –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM.

**–í–µ—Ä—Å–∏—è:** v14.1 (Dedicated Ollama Server)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã
- **‚òÅÔ∏è Claude Sonnet 4.5** - –≥–ª–∞–≤–Ω—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (—á–µ—Ä–µ–∑ API)
- **ü§ñ –õ–æ–∫–∞–ª—å–Ω–∞—è LLM** - llama3.2:1b –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–Ω–æ–≤–æ–µ!)
- **üß† RAG –ø–æ–∏—Å–∫** - –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º

### MCP –°–µ—Ä–≤–µ—Ä—ã
- **üå§Ô∏è Weather** - –ø–æ–≥–æ–¥–∞ –¥–ª—è –ª—é–±–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- **üì∞ News** - —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (RSS)
- **üì± Mobile** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Android —ç–º—É–ª—è—Ç–æ—Ä–æ–º (—á–µ—Ä–µ–∑ SSH –Ω–∞ Mac)
- **üêô GitHub** - –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **üìã Tasks** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã
- **üß† Ollama RAG** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (—á–µ—Ä–µ–∑ SSH –Ω–∞ Mac)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **üîî Code Review** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–≤—å—é PR —á–µ—Ä–µ–∑ webhooks
- **üéß Support** - —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å RAG –∏ —Ç–∏–∫–µ—Ç–∞–º–∏
- **üë• Team Assistant** - —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å –∞–Ω–∞–ª–∏–∑–æ–º –∑–∞–¥–∞—á

---

## üì± –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã
\`\`\`
/mode                  - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º
/mode claude          - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ Claude API
/mode local           - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é LLM
/clear                - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é Claude
/clear_local          - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ª–æ–∫–∞–ª—å–Ω–æ–π LLM
\`\`\`

### RAG –∏ –ø–æ–∏—Å–∫
\`\`\`
/with_rag <–≤–æ–ø—Ä–æ—Å>    - –∑–∞–ø—Ä–æ—Å —Å RAG –ø–æ–∏—Å–∫–æ–º
/search_repo <–∑–∞–ø—Ä–æ—Å> - –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É GitHub
/get_file <–ø—É—Ç—å>      - –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª –∏–∑ —Ä–µ–ø–æ
\`\`\`

### –ü–æ–≥–æ–¥–∞ –∏ –Ω–æ–≤–æ—Å—Ç–∏
\`\`\`
/weather_subscribe <–≥–æ—Ä–æ–¥>  - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É—Ç—Ä–µ–Ω–Ω—é—é –ø–æ–≥–æ–¥—É (08:00 MSK)
/weather_unsubscribe        - –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è
/morning_digest             - –ø–æ–≥–æ–¥–∞ + –Ω–æ–≤–æ—Å—Ç–∏ —Å–µ–π—á–∞—Å
\`\`\`

### –ó–∞–¥–∞—á–∏ –∏ –∫–æ–º–∞–Ω–¥–∞
\`\`\`
/tasks [—Ñ–∏–ª—å—Ç—Ä]       - —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
/task_create <priority> <–Ω–∞–∑–≤–∞–Ω–∏–µ>
/task_update <id> <–ø–æ–ª–µ> <–∑–Ω–∞—á–µ–Ω–∏–µ>
/ask_team <–≤–æ–ø—Ä–æ—Å>    - —É–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á —Å RAG
\`\`\`

### –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
\`\`\`
/support <–≤–æ–ø—Ä–æ—Å>     - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ–¥–¥–µ—Ä–∂–∫–µ
/my_tickets           - –º–æ–∏ —Ç–∏–∫–µ—Ç—ã
\`\`\`

### Android —ç–º—É–ª—è—Ç–æ—Ä
\`\`\`
/mobile_devices       - —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
/start_emulator       - –∑–∞–ø—É—Å—Ç–∏—Ç—å Pixel 8 API 34
\`\`\`

---

## ü§ñ Local Mode (llama3.2:1b)

**–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (v14.1):**
- –õ–æ–∫–∞–ª—å–Ω–∞—è LLM –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ **–≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ 157.22.241.102**
- –ü—Ä—è–º–æ–µ HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–±–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—è)
- –ú–æ–¥–µ–ª—å: **llama3.2:1b** (1.3GB, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è 2GB RAM)
- –û—Ç–¥–µ–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
- CPU: 1 vCPU
- RAM: 2GB (1.3GB –¥–ª—è –º–æ–¥–µ–ª–∏)
- OS: Ubuntu 24.04
- Ollama: latest version

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
\`\`\`
/mode local
–ü—Ä–∏–≤–µ—Ç! –ß—Ç–æ —Ç—ã –∑–∞ –º–æ–¥–µ–ª—å?
‚Üí –û—Ç–≤–µ—Ç–∏—Ç llama3.2:1b (30-60 —Å–µ–∫ –Ω–∞ CPU)

/mode claude
–ü—Ä–∏–≤–µ—Ç Claude
‚Üí –û—Ç–≤–µ—Ç–∏—Ç Claude Sonnet 4.5 (3-5 —Å–µ–∫)
\`\`\`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–Ω–µ—Ç API costs)
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç SSH —Ç—É–Ω–Ω–µ–ª—è
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ Claude (30-60 —Å–µ–∫ vs 3-5 —Å–µ–∫)
- ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (512 tokens vs 200K)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
\`\`\`python
# config.py
OLLAMA_SERVER_URL = "http://157.22.241.102:11434"
OLLAMA_MODEL = "llama3.2:1b"
\`\`\`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- \`temperature\`: 0.7
- \`max_tokens\`: 512
- \`num_ctx\`: 512 (—Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- \`timeout\`: 120 —Å–µ–∫—É–Ω–¥

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

\`\`\`
Telegram User
    ‚Üì
Telegram Bot (Python) - –°–µ—Ä–≤–µ—Ä 45.95.232.34
    ‚îú‚îÄ‚îÄ Claude API (—Ä–µ–∂–∏–º claude)
    ‚îú‚îÄ‚îÄ Ollama LLM (—Ä–µ–∂–∏–º local) ‚Üê HTTP –Ω–∞ 157.22.241.102
    ‚îú‚îÄ‚îÄ RAG (Ollama + nomic-embed-text) ‚Üê SSH –Ω–∞ Mac
    ‚îú‚îÄ‚îÄ MCP Servers:
    ‚îÇ   ‚îú‚îÄ‚îÄ Weather (–ª–æ–∫–∞–ª—å–Ω–æ)
    ‚îÇ   ‚îú‚îÄ‚îÄ News (–ª–æ–∫–∞–ª—å–Ω–æ)
    ‚îÇ   ‚îú‚îÄ‚îÄ GitHub (–ª–æ–∫–∞–ª—å–Ω–æ)
    ‚îÇ   ‚îú‚îÄ‚îÄ Tasks (–ª–æ–∫–∞–ª—å–Ω–æ)
    ‚îÇ   ‚îú‚îÄ‚îÄ Mobile (SSH –Ω–∞ Mac)
    ‚îÇ   ‚îî‚îÄ‚îÄ Ollama RAG (SSH –Ω–∞ Mac)
    ‚îî‚îÄ‚îÄ CRM (users.json, tickets.json)
\`\`\`

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.12+
- Node.js 20+ (–¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤)
- Ollama (–¥–ª—è RAG –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM)
- SSH –¥–æ—Å—Ç—É–ø –∫ Mac (–¥–ª—è Mobile –∏ Ollama RAG MCP)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
\`\`\`bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ
git clone https://github.com/KuzminVik/telegram-claude-bot
cd telegram-claude-bot

# 2. –°–æ–∑–¥–∞—Ç—å venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export TELEGRAM_BOT_TOKEN="your_token"
export ANTHROPIC_API_KEY="your_api_key"
export GITHUB_TOKEN="your_github_token"

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python bot.py
\`\`\`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ Ollama —Å–µ—Ä–≤–µ—Ä–∞

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ 157.22.241.102:**
\`\`\`bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama
curl -fsSL https://ollama.com/install.sh | sh

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ
mkdir -p /etc/systemd/system/ollama.service.d
cat > /etc/systemd/system/ollama.service.d/override.conf << 'EOF'
[Service]
Environment="OLLAMA_HOST=0.0.0.0:11434"
EOF

systemctl daemon-reload
systemctl restart ollama

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å
ollama pull llama3.2:1b

# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ
ufw allow 11434/tcp
\`\`\`

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–í–µ—Ä—Å–∏—è:** v14.1
- **–ö–æ–º–º–∏—Ç–æ–≤:** 100+
- **–§–∞–π–ª–æ–≤ Python:** 25+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~8000
- **MCP —Å–µ—Ä–≤–µ—Ä–æ–≤:** 6
- **–ö–æ–º–∞–Ω–¥ –±–æ—Ç–∞:** 30+

---

## üìù Changelog

### v14.1 (21.01.2026) - Dedicated Ollama Server
- ‚ú® –ú–∏–≥—Ä–∞—Ü–∏—è —Å Mac SSH –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä 157.22.241.102
- ‚ú® –ú–æ–¥–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∞: llama3.2:3b ‚Üí llama3.2:1b
- ‚ú® –ü—Ä—è–º–æ–µ HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (—É–±—Ä–∞–Ω SSH —Ç—É–Ω–Ω–µ–ª—å)
- ‚ú® –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è 2GB RAM: num_ctx=512, timeout=120s
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- üì¶ –û–±–Ω–æ–≤–ª—ë–Ω —Ç–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥—ã /mode

### v14.0 (20.01.2026) - Local LLM Mode
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º –ª–æ–∫–∞–ª—å–Ω–æ–π LLM (llama3.2:3b)
- ‚ú® –ö–æ–º–∞–Ω–¥—ã /mode, /clear_local
- ‚ú® –û—Ç–¥–µ–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- ‚ú® SSH —Ç—É–Ω–Ω–µ–ª—å –∫ Ollama –Ω–∞ Mac

---

## üîó –°—Å—ã–ª–∫–∏

- **GitHub:** https://github.com/KuzminVik/telegram-claude-bot
- **Anthropic API:** https://docs.anthropic.com
- **MCP Protocol:** https://github.com/anthropics/mcp
- **Ollama:** https://ollama.ai

---

**–ê–≤—Ç–æ—Ä:** –í–∏–∫—Ç–æ—Ä –ö—É–∑—å–º–∏–Ω  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT
