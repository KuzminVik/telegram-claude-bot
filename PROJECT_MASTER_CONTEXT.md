# ü§ñ Telegram Claude Bot - –ü–æ–ª–Ω—ã–π –ö–æ–Ω—Ç–µ–∫—Å—Ç –ü—Ä–æ–µ–∫—Ç–∞

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 13 —è–Ω–≤–∞—Ä—è 2026  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 9.2 (GitHub MCP Integration)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [MCP –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#mcp-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
4. [RAG –°–∏—Å—Ç–µ–º–∞](#rag-—Å–∏—Å—Ç–µ–º–∞)
5. [–ö–æ–º–∞–Ω–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏](#–∫–æ–º–∞–Ω–¥—ã-–∏-—Ñ—É–Ω–∫—Ü–∏–∏)
6. [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
7. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è](#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
8. [–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è](#–∏—Å—Ç–æ—Ä–∏—è-—Ä–∞–∑–≤–∏—Ç–∏—è)

---

## üìä –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –û–ø–∏—Å–∞–Ω–∏–µ
Telegram –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Claude AI (Anthropic), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π:
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ MCP —Å–µ—Ä–≤–µ—Ä—ã (Weather, News, Mobile, Ollama RAG, GitHub)
- RAG –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º GitHub
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∏–∞–ª–æ–≥–æ–≤ –≤ JSON
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- **GitHub:** https://github.com/KuzminVik/telegram-claude-bot
- **–û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞:** main
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç:** 7e31891 (GitHub MCP Integration)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Python:** 3.12
- **–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
  - `python-telegram-bot` 21.0
  - `anthropic` 0.75.0+
  - `apscheduler` (–¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á)
- **Node.js:** –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
- **Ollama:** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö LLM –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)

```
/root/telegram-bot/
‚îú‚îÄ‚îÄ bot.py                          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers
‚îú‚îÄ‚îÄ config.py                       # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ handlers/                       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (–º–æ–¥—É–ª—å–Ω—ã–µ)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ basic.py                   # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (/start, /clear, /stats)
‚îÇ   ‚îú‚îÄ‚îÄ with_rag.py                # RAG –∫–æ–º–∞–Ω–¥—ã (/with_rag, /clear_rag)
‚îÇ   ‚îî‚îÄ‚îÄ github_search.py           # GitHub –ø–æ–∏—Å–∫ (/search_repo, /get_file)
‚îÇ
‚îú‚îÄ‚îÄ mcp_clients/                    # MCP –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö MCP –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ weather_client.py         # Weather MCP (–ª–æ–∫–∞–ª—å–Ω—ã–π Node.js)
‚îÇ   ‚îú‚îÄ‚îÄ news_client.py            # News MCP (–ª–æ–∫–∞–ª—å–Ω—ã–π Node.js)
‚îÇ   ‚îú‚îÄ‚îÄ mobile_client.py          # Mobile MCP (—á–µ—Ä–µ–∑ SSH –Ω–∞ Mac)
‚îÇ   ‚îú‚îÄ‚îÄ ollama_client.py          # Ollama RAG (—á–µ—Ä–µ–∑ SSH –Ω–∞ Mac)
‚îÇ   ‚îî‚îÄ‚îÄ github_client.py          # GitHub MCP (–ª–æ–∫–∞–ª—å–Ω—ã–π Node.js)
‚îÇ
‚îú‚îÄ‚îÄ utils/                          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ rag_functions.py          # RAG —Ñ—É–Ω–∫—Ü–∏–∏ (Ollama)
‚îÇ   ‚îî‚îÄ‚îÄ github_rag_functions.py   # GitHub –ø–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ conversations/                  # JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–π –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ user_{user_id}.json
‚îÇ
‚îî‚îÄ‚îÄ venv/                          # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Å 24.12.2024)

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **Separation of Concerns** - –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –∑–∞–¥–∞—á—É
2. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config.py`
3. **–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - MCP –∫–ª–∏–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** - `bot.py` —Ç–æ–ª—å–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç handlers

**–§–∞–π–ª bot.py (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):**
```python
from handlers import basic
from handlers.with_rag import with_rag_command
from handlers.github_search import search_repo_command, get_file_command
from mcp_clients import init_mcp_clients, shutdown_mcp_clients

application.add_handler(CommandHandler("start", basic.start))
application.add_handler(CommandHandler("with_rag", with_rag_command))
application.add_handler(CommandHandler("search_repo", search_repo_command))
# ...

application.post_init = init_mcp_clients
application.post_shutdown = shutdown_mcp_clients
```

---

## üîå MCP –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –û–±–∑–æ—Ä MCP (Model Context Protocol)

MCP - –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∫ AI –º–æ–¥–µ–ª—è–º —á–µ—Ä–µ–∑ JSON-RPC 2.0.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **–°–µ—Ä–≤–µ—Ä:** Node.js –ø—Ä–æ—Ü–µ—Å—Å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ stdio
- **–ö–ª–∏–µ–Ω—Ç:** Python –∫–ª–∞—Å—Å, –æ—Ç–ø—Ä–∞–≤–ª—è—é—â–∏–π JSON-RPC –∑–∞–ø—Ä–æ—Å—ã
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** stdin/stdout —Å JSON

### 1. Weather MCP Server

**–¶–µ–ª—å:** –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/home/claude/mcp-weather-server/`  
**–ó–∞–ø—É—Å–∫:** –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Node.js)

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `get_weather(city, country_code?)` - —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
result = await mcp_weather_client.call_tool("get_weather", {
    "city": "Moscow",
    "country_code": "RU"
})
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### 2. News MCP Server

**–¶–µ–ª—å:** –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/home/claude/mcp-news-server/`  
**–ó–∞–ø—É—Å–∫:** –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Node.js)

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `get_news(category?, limit?)` - –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: world, tech, business, science

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

### 3. Mobile MCP Server

**–¶–µ–ª—å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Android —ç–º—É–ª—è—Ç–æ—Ä–æ–º  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/Users/vkuzmin/mcp-servers/mobile-mcp/` (–Ω–∞ Mac)  
**–ó–∞–ø—É—Å–∫:** –ß–µ—Ä–µ–∑ SSH (–ø–æ—Ä—Ç 2222)

**SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
MCP_MOBILE_SSH_HOST = "localhost"
MCP_MOBILE_SSH_PORT = 2222
MCP_MOBILE_SSH_USER = "vkuzmin"
MCP_MOBILE_SSH_KEY = "/root/.ssh/server_to_mac"
MCP_MOBILE_NODE_PATH = "/Users/vkuzmin/.nvm/versions/node/v20.19.6/bin/node"
MCP_MOBILE_SERVER_PATH = "/Users/vkuzmin/mcp-servers/mobile-mcp/lib/index.js"
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `list_devices()` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `start_emulator(device_name)` - –∑–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ç–æ—Ä–∞
- `install_apk(device_id, apk_path)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ APK
- `take_screenshot(device_id)` - —Å–∫—Ä–∏–Ω—à–æ—Ç
- `execute_shell(device_id, command)` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ SSH

---

### 4. Ollama RAG MCP Server

**–¶–µ–ª—å:** RAG –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/Users/vkuzmin/mcp-servers/ollama-mcp/` (–Ω–∞ Mac)  
**–ó–∞–ø—É—Å–∫:** –ß–µ—Ä–µ–∑ SSH (–ø–æ—Ä—Ç 2222)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Ollama** - –ª–æ–∫–∞–ª—å–Ω–∞—è LLM –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **nomic-embed-text** - –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (768 –∏–∑–º–µ—Ä–µ–Ω–∏–π)
- **llama3.2:3b** - –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
1. `chunk_and_embed` - —Ä–∞–∑–±–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞–Ω–∫–∏ –∏ —Å–æ–∑–¥–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
2. `vector_store_save` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
3. `vector_store_load` - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
4. `vector_store_search` - —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
5. `vector_store_similarity` - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å similarity
6. `rerank_results` - –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
7. `rag_answer` - –ø–æ–ª–Ω—ã–π RAG pipeline (–ø–æ–∏—Å–∫ + rerank + LLM)

**–í–µ–∫—Ç–æ—Ä–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:**
```
/Users/vkuzmin/vector_stores/
‚îî‚îÄ‚îÄ bot_knowledge.json  # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –±–æ—Ç–µ
```

**–†–µ–∂–∏–º—ã reranking:**
- `light` - —Ç–æ–ø-5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ reranking
- `strict` - —Ç–æ–ø-2 –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ reranking

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `/with_rag`

---

### 5. GitHub MCP Server ‚≠ê –ù–û–í–û–ï

**–¶–µ–ª—å:** –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/home/claude/mcp-github-server/`  
**–ó–∞–ø—É—Å–∫:** –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Node.js)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
MCP_GITHUB_SERVER_PATH = "/home/claude/mcp-github-server/server.js"
GITHUB_TOKEN = os.getenv('GITHUB_TOKEN')  # Personal Access Token
GITHUB_REPO_OWNER = "KuzminVik"
GITHUB_REPO_NAME = "telegram-claude-bot"
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `get_file_contents(owner, repo, path, ref?)` - –ø–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
- `search_code(q)` - –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É (GitHub Code Search API)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (utils/github_rag_functions.py):**
- `search_in_repository(owner, repo, query)` - –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ–∞–π–ª–∞–º
- `get_file_content(owner, repo, path)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º base64

**–ö–æ–º–∞–Ω–¥—ã:**
- `/search_repo <–∑–∞–ø—Ä–æ—Å>` - –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- `/get_file <–ø—É—Ç—å>` - –ø–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —Å–ø–∏—Å–∫—É —Ñ–∞–π–ª–æ–≤ (bot.py, config.py, handlers/*, mcp_clients/*, utils/*, README.md)
- GitHub Code Search API –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Contents API
- Base64 –∫–æ–Ω—Ç–µ–Ω—Ç –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π unicode —Å–∏–º–≤–æ–ª–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å 13.01.2026

---

## üß† RAG –°–∏—Å—Ç–µ–º–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RAG

**Pipeline:**
```
–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ‚Üì
–°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ (nomic-embed-text)
    ‚Üì
–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (top_k=10)
    ‚Üì
Reranking —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (light/strict mode)
    ‚Üì
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (llama3.2:3b)
    ‚Üì
–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RAG

```python
RAG_VECTOR_STORE_NAME = "bot_knowledge"
RAG_TOP_K_INITIAL = 10  # –ü–µ—Ä–≤–∏—á–Ω—ã–π –ø–æ–∏—Å–∫
RAG_LLM_MODEL = "llama3.2:3b"
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

**1. /with_rag <–≤–æ–ø—Ä–æ—Å>** - –∑–∞–ø—Ä–æ—Å —Å RAG
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `light` —Ä–µ–∂–∏–º reranking (—Ç–æ–ø-5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ (–≤—Ä–µ–º—è, chunks_used)

**2. /clear_rag** - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é RAG
- –£–¥–∞–ª—è–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –¥–ª—è RAG –∏—Å—Ç–æ—Ä–∏—é

**3. /rag_history** - –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é RAG –∑–∞–ø—Ä–æ—Å–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ RAG

–ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `answer` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
- `sources` - —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- `chunks_used` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –ø–æ—Å–ª–µ reranking
- `time` - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Å–µ–∫)
- `rerank_mode` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º

---

## üì± –ö–æ–º–∞–Ω–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (handlers/basic.py)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ (—Ä–∞–∑–º–µ—Ä, —Å–æ–æ–±—â–µ–Ω–∏—è) |
| `/debug` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ |

### Weather –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/weather_subscribe <–≥–æ—Ä–æ–¥>` | –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É—Ç—Ä–µ–Ω–Ω—é—é –ø–æ–≥–æ–¥—É |
| `/weather_unsubscribe` | –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –ø–æ–≥–æ–¥—ã |
| `/weather_list` | –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ |
| `/morning_digest` | –ü–æ–ª—É—á–∏—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç —Å–µ–π—á–∞—Å |

### Mobile –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/mobile_devices` | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |
| `/start_emulator` | –ó–∞–ø—É—Å—Ç–∏—Ç—å Android —ç–º—É–ª—è—Ç–æ—Ä |

### RAG –∫–æ–º–∞–Ω–¥—ã (handlers/with_rag.py)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/with_rag <–≤–æ–ø—Ä–æ—Å>` | –ó–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG |
| `/clear_rag` | –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é RAG |
| `/rag_history` | –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é RAG –∑–∞–ø—Ä–æ—Å–æ–≤ |

### GitHub –∫–æ–º–∞–Ω–¥—ã (handlers/github_search.py) ‚≠ê –ù–û–í–û–ï

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/search_repo <–∑–∞–ø—Ä–æ—Å>` | –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è | `/search_repo import asyncio` |
| `/get_file <–ø—É—Ç—å>` | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ | `/get_file bot.py` |

**–ü—Ä–∏–º–µ—Ä—ã –ø–æ–∏—Å–∫–∞:**
```
/search_repo async def        # –Ω–∞–π–¥—ë—Ç –≤—Å–µ async —Ñ—É–Ω–∫—Ü–∏–∏
/search_repo MCP             # –Ω–∞–π–¥—ë—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏—è MCP
/search_repo handle_message   # –Ω–∞–π–¥—ë—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```

---

## üñ•Ô∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –°–µ—Ä–≤–µ—Ä

**–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä:**
- IP: `45.95.232.34`
- –û–°: Ubuntu 24.04.3 LTS
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
  - `root` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –±–æ—Ç–∞
  - `claude_helper` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è SSH –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- SSH –¥–æ—Å—Ç—É–ø: –ø–æ—Ä—Ç 22, –∫–ª—é—á–∏ `/root/.ssh/id_automation`

**SSH —Ç—É–Ω–Ω–µ–ª—å –∫ Mac:**
- –ü–æ—Ä—Ç: 2222
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `vkuzmin`
- –ö–ª—é—á: `/root/.ssh/server_to_mac`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Mobile MCP –∏ Ollama MCP

### Systemd —Å–µ—Ä–≤–∏—Å

**–§–∞–π–ª:** `/etc/systemd/system/telegram-bot.service`

```ini
[Unit]
Description=Telegram Claude Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/telegram-bot
Environment="TELEGRAM_BOT_TOKEN=..."
Environment="ANTHROPIC_API_KEY=..."
Environment="GITHUB_TOKEN=..."
ExecStart=/root/telegram-bot/venv/bin/python /root/telegram-bot/bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
sudo systemctl start telegram-bot
sudo systemctl stop telegram-bot
sudo systemctl restart telegram-bot
sudo systemctl status telegram-bot
sudo journalctl -u telegram-bot -f  # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `ANTHROPIC_API_KEY` - API –∫–ª—é—á Claude
- `GITHUB_TOKEN` - GitHub Personal Access Token (–¥–ª—è GitHub MCP)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ systemd:**
–î–æ–±–∞–≤–∏—Ç—å –≤ `/etc/systemd/system/telegram-bot.service` –≤ —Å–µ–∫—Ü–∏—é `[Service]`:
```
Environment="GITHUB_TOKEN=ghp_..."
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
sudo systemctl daemon-reload
sudo systemctl restart telegram-bot
```

### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã

```
/root/telegram-bot/
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ handlers/
‚îú‚îÄ‚îÄ mcp_clients/
‚îú‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ conversations/          # JSON —Ñ–∞–π–ª—ã –∏—Å—Ç–æ—Ä–∏–π
‚îú‚îÄ‚îÄ venv/                  # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ .git/                  # Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

/home/claude/              # MCP —Å–µ—Ä–≤–µ—Ä—ã (–ª–æ–∫–∞–ª—å–Ω—ã–µ)
‚îú‚îÄ‚îÄ mcp-weather-server/
‚îú‚îÄ‚îÄ mcp-news-server/
‚îî‚îÄ‚îÄ mcp-github-server/     # ‚≠ê –ù–û–í–û–ï
```

---

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Bot Manager

**–§–∞–π–ª:** `/usr/local/bin/bot-manager` (Python —Å–∫—Ä–∏–ø—Ç)  
**SSH –∫–ª—é—á:** `/home/claude_helper/.ssh/id_automation`

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
bot-manager status        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
bot-manager restart       # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
bot-manager logs          # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
bot-manager logs-live     # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
bot-manager upload <local> <remote>   # –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
bot-manager download <remote> <local> # –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
bot-manager exec '<command>'          # –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/mnt/project/AUTOMATION_GUIDE.md`

### SSH –¥–æ—Å—Ç—É–ø –±–µ–∑ –ø–∞—Ä–æ–ª—è

**–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
- –ö–ª—é—á: `/root/.ssh/id_automation` (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~claude_helper/.ssh/authorized_keys`
- SSH –≤—Ö–æ–¥: `ssh -i /root/.ssh/id_automation claude_helper@45.95.232.34`

---

## üìö –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã

**v1.0 (–î–µ–∫–∞–±—Ä—å 2024)** - –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Claude AI
- –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã (normal, spec, models)
- In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏

**v2.0 (14.12.2024)** - JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `/root/telegram-bot/conversations/`
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

**v3.0 (15.12.2024)** - Weather MCP
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Weather MCP —Å–µ—Ä–≤–µ—Ä–∞
- –ö–æ–º–∞–Ω–¥—ã –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –ø–æ–≥–æ–¥—É
- –£—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç —á–µ—Ä–µ–∑ APScheduler

**v4.0 (16.12.2024)** - News MCP
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è News MCP —Å–µ—Ä–≤–µ—Ä–∞
- RSS –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**v5.0 (18.12.2024)** - Mobile MCP
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Mobile MCP —á–µ—Ä–µ–∑ SSH
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Android —ç–º—É–ª—è—Ç–æ—Ä–æ–º

**v6.0 (21.12.2024)** - Ollama RAG
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Ollama MCP —á–µ—Ä–µ–∑ SSH
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- RAG pipeline —Å reranking

**v7.0 (24.12.2024)** - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –º–æ–¥—É–ª–∏ (handlers/, mcp_clients/, utils/)
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ config.py
- –£–ø—Ä–æ—â–µ–Ω–∏–µ bot.py

**v9.1 (23.12.2024)** - RAG –∫–æ–º–∞–Ω–¥—ã
- –ö–æ–º–∞–Ω–¥–∞ `/with_rag` –¥–ª—è RAG –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è RAG –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ

**v9.2 (13.01.2026)** - GitHub MCP ‚≠ê –ê–ö–¢–£–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GitHub MCP —Å–µ—Ä–≤–µ—Ä–∞
- –ö–æ–º–∞–Ω–¥—ã `/search_repo` –∏ `/get_file`
- –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏

**–§–∞–π–ª:** `/root/telegram-bot/conversations/user_{user_id}.json`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "user_id": 12345,
  "last_updated": "2026-01-13T12:00:00",
  "message_count": 25,
  "messages": [
    {"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç"},
    {"role": "assistant", "content": "{\"user_message\": \"...\", \"ai_message\": \"...\"}"}
  ]
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10 –ú–ë
- –ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π: 30
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏

### –ú–µ—Ö–∞–Ω–∏–∑–º —Å–∂–∞—Ç–∏—è –∏—Å—Ç–æ—Ä–∏–∏

**–¢—Ä–∏–≥–≥–µ—Ä:** –ö–∞–∂–¥—ã–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π  
**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞–º–µ–Ω—è—é—Ç—Å—è –æ–¥–Ω–∏–º —Å–∂–∞—Ç—ã–º  
**–§–æ—Ä–º–∞—Ç —Å–∂–∞—Ç–æ–≥–æ:** `üì¶ –°–∂–∞—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è: [summary]`

### MCP –ø—Ä–æ—Ç–æ–∫–æ–ª

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "params": {
    "name": "tool_name",
    "arguments": {...}
  },
  "id": 1
}
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "content": [
      {"type": "text", "text": "{...}"}
    ]
  }
}
```

---

## üéØ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ
- [x] –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (JSON)
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
- [x] MCP Weather –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] MCP News –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] MCP Mobile –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—á–µ—Ä–µ–∑ SSH)
- [x] Ollama RAG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [x] RAG –∫–æ–º–∞–Ω–¥—ã
- [x] GitHub MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üöß
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ GitHub –ø–æ–∏—Å–∫–∞ (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤)
- [ ] Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∏–∞–ª–æ–≥–æ–≤

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è üìã
- [ ] PostgreSQL –≤–º–µ—Å—Ç–æ JSON
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –¥–∏–∞–ª–æ–≥–∞—Ö
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –≤ –æ–±–ª–∞–∫–æ

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º:

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º
2. **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ `daemon-reload`** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è service —Ñ–∞–π–ª–∞
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** —á–µ—Ä–µ–∑ `journalctl -u telegram-bot -f`
4. **–î–µ–ª–∞–π—Ç–µ backup** –ø–µ—Ä–µ–¥ major –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ MCP** –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ –±–æ—Ç–∞
6. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**–ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ systemd
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `journalctl -u telegram-bot -n 100`

**MCP –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Node.js —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º –≤ config.py
- –î–ª—è SSH MCP - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –∏ –∫–ª—é—á–∏

**GitHub MCP –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–¥:**
- GitHub Code Search –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Contents API
- –î–æ–±–∞–≤—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ —Å–ø–∏—Å–æ–∫ `files_to_search`

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/KuzminVik/telegram-claude-bot
- **Anthropic API:** https://docs.anthropic.com
- **MCP Protocol:** https://github.com/anthropics/mcp
- **python-telegram-bot:** https://python-telegram-bot.org
- **Ollama:** https://ollama.ai

---

**–ö–æ–Ω—Ç–∞–∫—Ç—ã:**
- –ê–≤—Ç–æ—Ä: –í–∏–∫—Ç–æ—Ä –ö—É–∑—å–º–∏–Ω
- Email: (—É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- Telegram –±–æ—Ç: @YourBotName

**–õ–∏—Ü–µ–Ω–∑–∏—è:** (—É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

---

_–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã (Single Source of Truth) –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞. –û–±–Ω–æ–≤–ª—è–π—Ç–µ –µ–≥–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏._
